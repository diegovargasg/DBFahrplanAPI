(this.webpackJsonpfahrplan=this.webpackJsonpfahrplan||[]).push([[0],{137:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),m=a(17),o=a.n(m),s=a(31),u=a(15),i=a(32),d=a.n(i),p=a(22),E=a.n(p),h=a(70),f=a(40),g=a(33),v=a(28),b=a(71),O=a(34),j=a(36),y=a(20);var k=function(e){return 0===e.arrivals.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Arrivals"),r.a.createElement(O.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Track"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Origin"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,e.arrivals.map((function(e,t){var a=E()(e.dateTime).format("HH:mm");return r.a.createElement(j.a,{delay:1e3,key:t,trigger:"hover",placement:"right",overlay:r.a.createElement(y.a,null,r.a.createElement(y.a.Title,{as:"h3",className:"text-dark"},"Response Object"),r.a.createElement(y.a.Content,null,r.a.createElement("pre",null,JSON.stringify(e,null,2))))},r.a.createElement("tr",{className:"popover-contained"},r.a.createElement("td",{className:"text-center"},e.track),r.a.createElement("td",null,decodeURIComponent(e.name)),r.a.createElement("td",null,decodeURIComponent(e.origin)),r.a.createElement("td",null,a)))})),r.a.createElement("tr",null))))};var x=function(e){return 0===e.departures.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Departures"),r.a.createElement(O.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Track"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Origin"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,e.departures.map((function(t,a){var n=E()(t.dateTime).format("HH:mm");return r.a.createElement(j.a,{delay:1e3,key:a,trigger:"hover",placement:"right",overlay:r.a.createElement(y.a,null,r.a.createElement(y.a.Title,{as:"h3",className:"text-dark"},"Response Object"),r.a.createElement(y.a.Content,null,r.a.createElement("pre",null,JSON.stringify(t,null,2))))},r.a.createElement("tr",{key:a,className:"popover-contained"},r.a.createElement("td",{className:"text-center"},t.track),r.a.createElement("td",null,decodeURIComponent(t.name)),r.a.createElement("td",null,e.origin),r.a.createElement("td",null,n)))})),r.a.createElement("tr",null))))},N=a(66),w=a.n(N);var S=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{bootstrapURLKeys:{key:"AIzaSyDn9vRY4c0c7ErluuD0J0NYjT4kGtClcPc"},center:{lat:e.lat,lng:e.lng},defaultZoom:15,distanceToMouse:function(){}},r.a.createElement("div",{lat:e.lat,lng:e.lng,className:"mapMaker"},r.a.createElement("div",{className:"inner"},"DB"))))},Y=a(67),M=a.n(Y).a.create({baseURL:"https://api.deutschebahn.com/freeplan/v1/",headers:{Authorization:"Bearer ".concat("564846c2d9af665fe87bd74edcf19304")}}),D=a(72),T=E()(),C=50.107149,R=8.663785;var B=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),m=Object(u.a)(c,2),i=m[0],p=m[1],E=Object(n.useState)(C),O=Object(u.a)(E,2),j=O[0],y=O[1],N=Object(n.useState)(R),w=Object(u.a)(N,2),Y=w[0],B=w[1],I=Object(n.useState)(""),H=Object(u.a)(I,2),J=H[0],L=H[1],U=Object(n.useState)([]),z=Object(u.a)(U,2),F=z[0],A=z[1],G=Object(n.useState)([]),K=Object(u.a)(G,2),P=K[0],W=K[1],Z=Object(n.useState)({}),$=Object(u.a)(Z,2),q=$[0],Q=$[1],V=Object(n.useState)({}),X=Object(u.a)(V,2),_=X[0],ee=X[1],te=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,M.get("/location/".concat(t));case 4:a=e.sent,n=a.data.map((function(e){return{name:e.name,id:e.id,lat:e.lat,lon:e.lon}})),p(n),l(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(s.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return y(t[0].lat),B(t[0].lon),L(t[0].name),a=t[0].id,e.next=8,Promise.all[(ne(a),re(a))];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=T.format("YYYY-MM-DD"),e.next=4,M.get("/arrivalBoard/".concat(t,"?date=").concat(a));case 4:n=e.sent,A(n.data),Q({}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),A([]),Q({title:"Something went wrong fetching the arrivals",message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=T.format("YYYY-MM-DD"),e.next=4,M.get("/departureBoard/".concat(t,"?date=").concat(a));case 4:n=e.sent,W(n.data),ee({}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),W([]),ee({title:"Something went wrong fetching the departures",message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(h.a,{fluid:!0,className:"h-100"},r.a.createElement(b.a,{className:"h-100"},r.a.createElement(v.a,{xs:12,md:4,className:"h-100 left-col"},r.a.createElement(f.a,{className:"mt-5"},r.a.createElement(f.a.Group,{controlId:"name"},r.a.createElement("h5",null,"Location:"),r.a.createElement(D.a,{id:"name",isLoading:a,labelKey:"name",minLength:3,onSearch:te,onChange:ae,options:i,placeholder:"Search for a DB station...",renderMenuItemChildren:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("span",null,e.name))}}))),(!d.a.isEmpty(P)||!d.a.isEmpty(F))&&r.a.createElement("h2",{className:"mt-5 mb-5 text-center"},"Schedule for ",T.format("dddd, MMMM Do YYYY")),!d.a.isEmpty(_)&&r.a.createElement(g.a,{variant:"danger"},r.a.createElement(g.a.Heading,null,_.title),r.a.createElement("p",null,_.message)),r.a.createElement(x,{departures:P,origin:J}),!d.a.isEmpty(q)&&r.a.createElement(g.a,{variant:"danger"},r.a.createElement(g.a.Heading,null,q.title),r.a.createElement("p",null,q.message)),r.a.createElement(k,{arrivals:F})),r.a.createElement(v.a,{xs:12,md:8,className:"h-100 pr-0 pl-0 right-col"},r.a.createElement(S,{lat:j,lng:Y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(137);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){e.exports=a(138)}},[[73,1,2]]]);
//# sourceMappingURL=main.0b004557.chunk.js.map