(this.webpackJsonpfahrplan=this.webpackJsonpfahrplan||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=a(17),m=a.n(o),s=a(31),u=a(15),i=a(32),d=a.n(i),E=a(22),p=a.n(E),h=a(70),v=a(40),f=a(33),g=a(28),b=a(71),O=a(34),S=a(36),x=a(20);var y=function(e){return 0===e.arrivals.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Arrivals"),r.a.createElement(O.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Track"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Origin"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,e.arrivals.map((function(e,t){var a=p()(e.dateTime).format("HH:mm");return r.a.createElement(S.a,{delay:1e3,key:t,trigger:"hover",placement:"right",overlay:r.a.createElement(x.a,null,r.a.createElement(x.a.Title,{as:"h3",className:"text-dark"},"Response Object"),r.a.createElement(x.a.Content,null,r.a.createElement("pre",null,JSON.stringify(e,null,2))))},r.a.createElement("tr",{className:"popover-contained"},r.a.createElement("td",{className:"text-center"},e.track),r.a.createElement("td",null,decodeURIComponent(e.name)),r.a.createElement("td",null,decodeURIComponent(e.origin)),r.a.createElement("td",null,a)))})),r.a.createElement("tr",null))))};var N=function(e){return 0===e.departures.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Departures"),r.a.createElement(O.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Track"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Origin"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,e.departures.map((function(t,a){var n=p()(t.dateTime).format("HH:mm");return r.a.createElement(S.a,{delay:1e3,key:a,trigger:"hover",placement:"right",overlay:r.a.createElement(x.a,null,r.a.createElement(x.a.Title,{as:"h3",className:"text-dark"},"Response Object"),r.a.createElement(x.a.Content,null,r.a.createElement("pre",null,JSON.stringify(t,null,2))))},r.a.createElement("tr",{key:a,className:"popover-contained"},r.a.createElement("td",{className:"text-center"},t.track),r.a.createElement("td",null,decodeURIComponent(t.name)),r.a.createElement("td",null,e.origin),r.a.createElement("td",null,n)))})),r.a.createElement("tr",null))))},j=a(66),T=a.n(j);var k=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{bootstrapURLKeys:{key:"AIzaSyAJRt3A82TC4g6eKtxxO8-nNJvF2YPvTpw"},center:{lat:e.lat,lng:e.lng},defaultZoom:15,distanceToMouse:function(){}},r.a.createElement("div",{lat:e.lat,lng:e.lng,className:"mapMaker"},r.a.createElement("div",{className:"inner"},"DB"))))},w=a(67),A=a.n(w),_=Object({NODE_ENV:"production",PUBLIC_URL:"/DBFahrplanAPI",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_TOKEN:"564846c2d9af665fe87bd74edcf19304",REACT_APP_API_URL:"https://api.deutschebahn.com/freeplan/v1/",REACT_APP_MAPS_KEY:"AIzaSyAJRt3A82TC4g6eKtxxO8-nNJvF2YPvTpw"}).REACT_APP_TOKEN,P=A.a.create({baseURL:"https://api.deutschebahn.com/freeplan/v1/",headers:{Authorization:"Bearer ".concat(_)}}),C=a(72),R=p()(),Y=50.107149,D=8.663785;var M=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(u.a)(c,2),i=o[0],E=o[1],p=Object(n.useState)(Y),O=Object(u.a)(p,2),S=O[0],x=O[1],j=Object(n.useState)(D),T=Object(u.a)(j,2),w=T[0],A=T[1],_=Object(n.useState)(""),M=Object(u.a)(_,2),I=M[0],K=M[1],B=Object(n.useState)([]),H=Object(u.a)(B,2),J=H[0],L=H[1],U=Object(n.useState)([]),F=Object(u.a)(U,2),z=F[0],W=F[1],G=Object(n.useState)({}),V=Object(u.a)(G,2),Z=V[0],$=V[1],q=Object(n.useState)({}),Q=Object(u.a)(q,2),X=Q[0],ee=Q[1],te=function(){var e=Object(s.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,P.get("/location/".concat(t));case 4:a=e.sent,n=a.data.map((function(e){return{name:e.name,id:e.id,lat:e.lat,lon:e.lon}})),E(n),l(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(s.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return x(t[0].lat),A(t[0].lon),K(t[0].name),a=t[0].id,e.next=8,Promise.all[(ne(a),re(a))];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(s.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=R.format("YYYY-MM-DD"),e.next=4,P.get("/arrivalBoard/".concat(t,"?date=").concat(a));case 4:n=e.sent,L(n.data),$({}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),L([]),$({title:"Something went wrong fetching the arrivals",message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(s.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=R.format("YYYY-MM-DD"),e.next=4,P.get("/departureBoard/".concat(t,"?date=").concat(a));case 4:n=e.sent,W(n.data),ee({}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),W([]),ee({title:"Something went wrong fetching the departures",message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(h.a,{fluid:!0,className:"h-100"},r.a.createElement(b.a,{className:"h-100"},r.a.createElement(g.a,{xs:12,md:4,className:"h-100 left-col"},r.a.createElement(v.a,{className:"mt-5"},r.a.createElement(v.a.Group,{controlId:"name"},r.a.createElement("h5",null,"Location:"),r.a.createElement(C.a,{id:"name",isLoading:a,labelKey:"name",minLength:3,onSearch:te,onChange:ae,options:i,placeholder:"Search for a DB station...",renderMenuItemChildren:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("span",null,e.name))}}))),(!d.a.isEmpty(z)||!d.a.isEmpty(J))&&r.a.createElement("h2",{className:"mt-5 mb-5 text-center"},"Schedule for ",R.format("dddd, MMMM Do YYYY")),!d.a.isEmpty(X)&&r.a.createElement(f.a,{variant:"danger"},r.a.createElement(f.a.Heading,null,X.title),r.a.createElement("p",null,X.message)),r.a.createElement(N,{departures:z,origin:I}),!d.a.isEmpty(Z)&&r.a.createElement(f.a,{variant:"danger"},r.a.createElement(f.a.Heading,null,Z.title),r.a.createElement("p",null,Z.message)),r.a.createElement(y,{arrivals:J})),r.a.createElement(g.a,{xs:12,md:8,className:"h-100 pr-0 pl-0 right-col"},r.a.createElement(k,{lat:S,lng:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(136);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){e.exports=a(137)}},[[73,1,2]]]);
//# sourceMappingURL=main.67482219.chunk.js.map