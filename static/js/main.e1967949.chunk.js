(this.webpackJsonpfahrplan=this.webpackJsonpfahrplan||[]).push([[0],{130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a.n(l),o=a(15),m=a.n(o),u=a(26),s=a(12),i=a(27),d=a.n(i),p=a(19),E=a.n(p),h=a(65),f=a(35),v=a(28),b=a(23),g=a(66),O=a(29);var S=function(e){return 0===e.arrivals.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Arrivals"),r.a.createElement(O.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Track"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Origin"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,e.arrivals.map((function(e,t){var a=E()(e.dateTime).format("HH:mm");return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.track),r.a.createElement("td",null,decodeURIComponent(e.name)),r.a.createElement("td",null,decodeURIComponent(e.origin)),r.a.createElement("td",null,a))})),r.a.createElement("tr",null))))};var w=function(e){return 0===e.departures.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Departures"),r.a.createElement(O.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Track"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Origin"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,e.departures.map((function(t,a){var n=E()(t.dateTime).format("HH:mm");return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.track),r.a.createElement("td",null,decodeURIComponent(t.name)),r.a.createElement("td",null,e.origin),r.a.createElement("td",null,n))})),r.a.createElement("tr",null))))},j=a(61),x=a.n(j),T=Object({NODE_ENV:"production",PUBLIC_URL:"/DBFahrplanAPI",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_TOKEN:"564846c2d9af665fe87bd74edcf19304",REACT_APP_API_URL:"https://api.deutschebahn.com/freeplan/v1/",REACT_APP_MAPS_KEY:"AIzaSyAJRt3A82TC4g6eKtxxO8-nNJvF2YPvTpw"}).REACT_APP_TOKEN,A=x.a.create({baseURL:"https://api.deutschebahn.com/freeplan/v1/",headers:{Authorization:"Bearer ".concat(T)}}),k=a(67),y=a(64),_=a.n(y),P=E()(),Y=50.107149,N=8.663785;var C=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),i=o[0],p=o[1],E=Object(n.useState)(Y),O=Object(s.a)(E,2),j=O[0],x=O[1],T=Object(n.useState)(N),y=Object(s.a)(T,2),C=y[0],R=y[1],D=Object(n.useState)(""),I=Object(s.a)(D,2),M=I[0],K=I[1],B=Object(n.useState)([]),H=Object(s.a)(B,2),L=H[0],U=H[1],F=Object(n.useState)([]),z=Object(s.a)(F,2),J=z[0],W=z[1],G=Object(n.useState)({}),V=Object(s.a)(G,2),Z=V[0],$=V[1],q=Object(n.useState)({}),Q=Object(s.a)(q,2),X=Q[0],ee=Q[1],te=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,A.get("/location/".concat(t));case 4:a=e.sent,n=a.data.map((function(e){return{name:e.name,id:e.id,lat:e.lat,lon:e.lon}})),p(n),l(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(u.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return x(t[0].lat),R(t[0].lon),K(t[0].name),a=t[0].id,e.next=8,Promise.all[(ne(a),re(a))];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=P.format("YYYY-MM-DD"),e.next=4,A.get("/arrivalBoard/".concat(t,"?date=").concat(a));case 4:n=e.sent,U(n.data),$({}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$({title:"Something went wrong fetching the arrivals",message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=P.format("YYYY-MM-DD"),e.next=4,A.get("/departureBoard/".concat(t,"?date=").concat(a));case 4:n=e.sent,W(n.data),ee({}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ee({title:"Something went wrong fetching the departures",message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(h.a,{fluid:!0,className:"h-100"},r.a.createElement(g.a,{className:"h-100"},r.a.createElement(b.a,{xs:12,md:4,style:{boxShadow:"0 0 10px #1e2b37",overflowY:"auto",overFlowY:"hidden",zIndex:300},className:"h-100"},r.a.createElement(f.a,{className:"mt-5"},r.a.createElement(f.a.Group,{controlId:"name"},r.a.createElement("h5",null,"Location:"),r.a.createElement(k.a,{id:"name",isLoading:a,labelKey:"name",minLength:3,onSearch:te,onChange:ae,options:i,placeholder:"Search for a DB station...",renderMenuItemChildren:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("span",null,e.name))}}))),(!d.a.isEmpty(J)||!d.a.isEmpty(L))&&r.a.createElement("h2",{className:"mt-5 mb-5 text-center"},"Schedule for ",P.format("dddd, MMMM Do YYYY")),!d.a.isEmpty(X)&&r.a.createElement(v.a,{variant:"danger"},r.a.createElement(v.a.Heading,null,X.title),r.a.createElement("p",null,X.message)),r.a.createElement(w,{departures:J,origin:M}),!d.a.isEmpty(Z)&&r.a.createElement(v.a,{variant:"danger"},r.a.createElement(v.a.Heading,null,Z.title),r.a.createElement("p",null,Z.message)),r.a.createElement(S,{arrivals:L})),r.a.createElement(b.a,{xs:12,md:8,className:"h-100 pr-0 pl-0"},r.a.createElement(_.a,{bootstrapURLKeys:{key:"AIzaSyAJRt3A82TC4g6eKtxxO8-nNJvF2YPvTpw"},center:{lat:j,lng:C},defaultZoom:15,distanceToMouse:function(){}},r.a.createElement("div",{lat:j,lng:C,className:"mapMaker"},r.a.createElement("div",{className:"inner"},"DB"))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(130);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},68:function(e,t,a){e.exports=a(131)}},[[68,1,2]]]);
//# sourceMappingURL=main.e1967949.chunk.js.map